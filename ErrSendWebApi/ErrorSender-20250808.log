2025-08-08 16:39:40.722 +03:00 [INF] User profile is available. Using '/Users/mac/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-08 16:39:41.093 +03:00 [WRN] The WebRootPath was not found: /Users/mac/Downloads/ErrorSender_v1/ErrSendWebApi/wwwroot. Static files may be unavailable.
2025-08-08 16:39:41.116 +03:00 [INF] Now listening on: http://localhost:5001
2025-08-08 16:39:41.118 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 16:39:41.119 +03:00 [INF] Hosting environment: Development
2025-08-08 16:39:41.119 +03:00 [INF] Content root path: /Users/mac/Downloads/ErrorSender_v1/ErrSendWebApi
2025-08-08 16:39:51.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger-ui-standalone-preset.js - null null
2025-08-08 16:39:51.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/index.js - null null
2025-08-08 16:39:51.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger-ui.css - null null
2025-08-08 16:39:51.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger-ui-bundle.js - null null
2025-08-08 16:39:51.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/Ui/theme-feeling-blue.css - null null
2025-08-08 16:39:51.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/index.css - null null
2025-08-08 16:39:51.848 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-08-08 16:39:51.853 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/index.css - 200 202 text/css 94.2648ms
2025-08-08 16:39:51.861 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-08 16:39:51.880 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-08 16:39:51.880 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-08 16:39:51.895 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-08 16:39:51.896 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger-ui.css - 200 154949 text/css 138.9389ms
2025-08-08 16:39:51.896 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger-ui-standalone-preset.js - 200 229223 text/javascript 138.8883ms
2025-08-08 16:39:51.896 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger-ui-bundle.js - 200 1466908 text/javascript 139.4466ms
2025-08-08 16:39:51.952 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/Ui/theme-feeling-blue.css - 404 0 null 195.2928ms
2025-08-08 16:39:51.955 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5001/swagger/Ui/theme-feeling-blue.css, Response status code: 404
2025-08-08 16:39:52.017 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/index.js - 200 null application/javascript;charset=utf-8 259.9882ms
2025-08-08 16:39:52.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - null null
2025-08-08 16:39:52.431 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 250.7169ms
2025-08-08 16:40:41.269 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/Test/GetJwtToken/JWT Токен - application/json 75
2025-08-08 16:40:41.276 +03:00 [INF] CORS policy execution successful.
2025-08-08 16:40:41.279 +03:00 [INF] Executing endpoint 'ErrSendWebApi.Controllers.TestController.GetJwtToken (ErrSendWebApi)'
2025-08-08 16:40:41.320 +03:00 [INF] Route matched with {action = "GetJwtToken", controller = "Test"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetJwtToken(ErrSendApplication.DTO.JwtTokenRequest) on controller ErrSendWebApi.Controllers.TestController (ErrSendWebApi).
2025-08-08 16:40:41.410 +03:00 [INF] Executing action method ErrSendWebApi.Controllers.TestController.GetJwtToken (ErrSendWebApi) - Validation state: "Valid"
2025-08-08 16:40:41.432 +03:00 [INF] Запити: GenerateJwtTokenCommand --- {"Login":"admin","Password":"admin","Roles":["Admin"],"$type":"GenerateJwtTokenCommand"} 
2025-08-08 16:40:41.500 +03:00 [INF] Executed action method ErrSendWebApi.Controllers.TestController.GetJwtToken (ErrSendWebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.7174ms.
2025-08-08 16:40:41.509 +03:00 [INF] Executing OkObjectResult, writing value of type 'ErrSendApplication.DTO.JwtTokenResponse'.
2025-08-08 16:40:41.518 +03:00 [INF] Executed action ErrSendWebApi.Controllers.TestController.GetJwtToken (ErrSendWebApi) in 192.731ms
2025-08-08 16:40:41.519 +03:00 [INF] Executed endpoint 'ErrSendWebApi.Controllers.TestController.GetJwtToken (ErrSendWebApi)'
2025-08-08 16:40:41.519 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/Test/GetJwtToken/JWT Токен - 200 null application/json; charset=utf-8 250.0221ms
2025-08-08 16:41:19.006 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/Test/SendTelegramMessage/Відправка тестового повідомлення в Telegram - application/json 51
2025-08-08 16:41:19.010 +03:00 [INF] CORS policy execution successful.
2025-08-08 16:41:19.044 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0xC8' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-08-08 16:41:19.101 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-08-08 16:41:19.110 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2025-08-08 16:41:19.117 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-08 16:41:19.118 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/Test/SendTelegramMessage/Відправка тестового повідомлення в Telegram - 401 0 null 111.9613ms
